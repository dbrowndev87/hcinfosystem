<div class="container-fluid">

  <!-- Loading Bar -->
  <div *ngIf="!isLoaded">
    <div class="row">
      <div class="col-md-8 centerDiv well">
        <img src="../../../assets/loading.gif" class="center-block imgLoading" />
        <h4 class="text-center">Loading</h4>
      </div>
    </div>
  </div>

  <!-- HC Well Button -->
  <div *ngIf="isLoaded" class="row">
    <div class=" col-md-8 centerDiv well">
      <div class="row">
        <div class="col-md-5">
          <img class="logoReport" src="../../../assets/Logo1.png">
        </div>
        <div class="col-md-7">
          <br>
          <br>
          <br>
          <h3 class="reportHeader ">Student Transcript</h3>
        </div>
      </div>
      <div class="row">
        <hr>
        <div class="col-md-6">
          <p><span class="bold">Student ID: </span>{{student.student_Id}}</p>
          <p><span class="bold">Date: </span>{{transcriptDate}}</p>
        </div>
        <div class="col-md-6">
          <p><span class="bold">For:</span> {{student.first_Name}} {{student.last_Name}}</p>
          <p><span class="bold">Type:</span> Personal Student Transcript<br>
        </div>
        <hr>

        <div class="row">
          <div class="col-md-8 centerDiv">

            <table *ngIf="byYear || semester === 'Spring'" class="reportTable">
              <!-- Year/Spring starts Here -->
              <thead>
                <tr>
                  <th colspan="4" class="semesterHead">
                    <h4 class="text-center bold">Spring</h4>
                  </th>
                </tr>
                <tr *ngIf="sectionInfo['spring']['sections'].length > 0">
                  <th>Course ID</th>
                  <th>Course Name</th>
                  <th>End Date</th>
                  <th>Grade</th>
                </tr>
              </thead>
              <tbody *ngIf="sectionInfo['spring']['sections'].length > 0">
                <tr *ngFor="let section of sectionInfo['spring']['sections']">
                  <td style="width: 15%">{{section['section'].course_Id}}</td>
                  <td style="width: 35%">{{section['section'].course_Name}}</td>
                  <td style="width: 30%">{{section['section'].end_Date | date:'yyyy-MM-dd'}}</td>
                  <td style="width: 20%">{{section['grade']}}</td>
                </tr>
              </tbody>
              <tbody *ngIf="sectionInfo['spring']['sections'].length === 0">
                <tr>
                  <td colspan="4" class="text-center">No courses taken for this semester.</td>
                </tr>
              </tbody>
              <tr *ngIf="sectionInfo['spring']['sections'].length > 0">
                <th colspan="4">
                  <p class="">
                    Spring Semester Totals:
                  </p>
                </th>
              </tr>
              <tbody *ngIf="sectionInfo['spring']['sections'].length > 0">
                <tr>
                  <td style="width: 25%"><span class="bold">Passes:</span> {{sectionInfo['spring']['pass']}}</td>
                  <td style="width: 25%"><span class="bold">Fails:</span> {{sectionInfo['spring']['fail']}}</td>
                  <td style="width: 25%">
                    <span class="bold">Average:</span>
                    {{(sectionInfo['spring']['sumgrades'] / (sectionInfo['spring']['pass'] + sectionInfo['spring']['fail'])) | number:'1.1'}}
                  </td>
                  <td style="width: 25%"><span class="bold">Credits:</span> {{sectionInfo['spring']['credits']}}</td>
                </tr>
              </tbody>
            </table>

            <!-- Year/Summer satrs here -->
            <table *ngIf="byYear || semester === 'Summer'" class="reportTable">
              <tr>
                <th colspan="4" class="semesterHead">
                  <h4 class="text-center bold">Summer</h4>
                </th>
              </tr>
              <tr *ngIf="sectionInfo['summer']['sections'].length > 0">
                <th>Course ID</th>
                <th>Course Name</th>
                <th>End Date</th>
                <th>Grade</th>
              </tr>
              <tbody *ngIf="sectionInfo['summer']['sections'].length > 0">
                <tr *ngFor="let section of sectionInfo['summer']['sections']">
                  <td style="width: 15%">{{section['info'].course_Id}}</td>
                  <td style="width: 35%">{{section['info'].course_Name}}</td>
                  <td style="width: 30%">{{section['info'].end_Date | date:'yyyy-MM-dd'}}</td>
                  <td style="width: 20%">{{section['grade']}}</td>
                </tr>
              </tbody>
              <tbody *ngIf="sectionInfo['summer']['sections'].length === 0">
                <tr>
                  <td colspan="4" class="text-center">No courses taken for this semester.</td>
                </tr>
              </tbody>
              <tr *ngIf="sectionInfo['summer']['sections'].length > 0">
                <th colspan="4">
                  Summer Semester Totals:
                </th>
              </tr>
              <tbody *ngIf="sectionInfo['summer']['sections'].length > 0">
                <tr>
                  <td style="width: 25%"><span class="bold">Passes:</span> {{sectionInfo['summer']['pass']}}</td>
                  <td style="width: 25%"><span class="bold">Fails:</span> {{sectionInfo['summer']['fail']}}</td>
                  <td style="width: 25%">
                    <span class="bold">Average:</span>
                    {{(sectionInfo['summer']['sumgrades'] / (sectionInfo['summer']['pass'] + sectionInfo['summer']['fail'])) | number:'1.0-1'}}
                  </td>
                  <td style="width: 25%"><span class="bold">Credits:</span> {{sectionInfo['summer']['credits']}}</td>
                </tr>
              </tbody>
            </table>

            <!-- Fall Satrts Here -->
            <table *ngIf="byYear || semester === 'Fall'" class="reportTable">
              <tr>
                <th colspan="4" class="semesterHead">
                  <h4 class="text-center bold">Fall</h4>
                </th>
              </tr>
              <tr *ngIf="sectionInfo['fall']['sections'].length > 0">
                <th>Course ID</th>
                <th>Course Name</th>
                <th>End Date</th>
                <th>Grade</th>
              </tr>
              <tbody *ngIf="sectionInfo['fall']['sections'].length > 0">
                <tr *ngFor="let section of sectionInfo['fall']['sections']">
                  <td style="width: 15%">{{section['info'].course_Id}}</td>
                  <td style="width: 35%">{{section['info'].course_Name}}</td>
                  <td style="width: 30%">{{section['info'].end_Date | date:'yyyy-MM-dd'}}</td>
                  <td style="width: 20%">{{section['grade']}}</td>
                </tr>
              </tbody>
              <tbody *ngIf="sectionInfo['fall']['sections'].length === 0">
                <tr>
                  <td colspan="4" class="text-center">No courses taken for this semester.</td>
                </tr>
              </tbody>
              <tr *ngIf="sectionInfo['fall']['sections'].length > 0">
                <th colspan="4">
                  Fall Semester Totals:
                </th>
              </tr>
              <tbody *ngIf="sectionInfo['fall']['sections'].length > 0">
                <tr class="text-center">
                  <td style="width: 25%"><span class="bold">Passes:</span> {{sectionInfo['fall']['pass']}}</td>
                  <td style="width: 25%"><span class="bold">Fails:</span> {{sectionInfo['fall']['fail']}}</td>
                  <td style="width: 25%">
                    <span class="bold">Average:</span>
                    {{(sectionInfo['fall']['sumgrades'] / (sectionInfo['fall']['pass'] + sectionInfo['fall']['fail'])) | number:'1.0-1' }}
                  </td>
                  <td style="width: 25%"><span class="bold">Credits:</span> {{sectionInfo['fall']['credits']}}</td>
                </tr>
              </tbody>
            </table>

            <!-- final count -->
            <table *ngIf="
            sectionInfo['fall']['sections'].length > 0 ||
            sectionInfo['summer']['sections'].length > 0 ||
            sectionInfo['spring']['sections'].length > 0
            " class="reportTable">
              <tr>
                <th colspan="4">
                  Final Count:
                </th>
              </tr>
              <tr>
                <td style="width: 24.8%">
                  <span class="bold">Total Passes:</span>
                  {{(sectionInfo['fall']['pass'] + sectionInfo['spring']['pass'] + sectionInfo['summer']['pass'])}}
                </td>
                <td style="width: 35.8%">
                  <span class="bold">Total Fails:</span>
                  {{(sectionInfo['fall']['fail'] + sectionInfo['spring']['fail'] + sectionInfo['summer']['fail'])}}
                </td>
                <td style="width: 26%">
                  <span class="bold">GPA:</span>
                  {{
                        (sectionInfo['fall']['sumgrades'] + sectionInfo['spring']['sumgrades'] + sectionInfo['summer']['sumgrades']) /
                        ((sectionInfo['fall']['pass'] + sectionInfo['spring']['pass'] + sectionInfo['summer']['pass'])+
                        (sectionInfo['fall']['fail'] + sectionInfo['spring']['fail'] + sectionInfo['summer']['fail'])) | number:'1.0-1'
                      }}
                </td>
                <td>
                  <span class="bold">Total Credits:</span>
                  {{(sectionInfo['fall']['credits'] + sectionInfo['spring']['credits'] + sectionInfo['summer']['credits'])}}
                </td>
              </tr>
            </table>

          </div>
        </div>
        <br>
        <br>
      </div>
      <div class="row">
        <div class="col-md-12 centerDiv">
          <button class="btn btnHc float-right" (click)="backToReportGenerator()">Back</button>
        </div>
      </div>
    </div>
  </div>
</div>